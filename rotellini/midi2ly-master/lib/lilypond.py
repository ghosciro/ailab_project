
NOTE = []
for x in [",,,,",",,,",",,",",","","'","''","'''","''''"]:
    for c in ['c','cis','d','dis','e','f','fis','g','gis','a','ais','b']:
        NOTE.append(c+x)

PERC = {
        36:'bd',
        42:'hh',
        40:'sn',
        28:'cymra',
        49:'cymca'
        }

DURATIONS = [
        None,
        ['32'],
        ['16'],
        ['16.'],
        ['8'],
        ['8','32'],
        ['8.'],
        ['8','16.'],
        ['4'],
        ['4','32'],
        ['4','16'],
        ['4','16.'],
        ['4.'],
        ['4','8','32'],
        ['4','8','16'],
        ['4','8','16.'],
        ['2'],
        ['2','32'],
        ['2','16'],
        ['2','16.'],
        ['2','8'],
        ['2','8','32'],
        ['2','8','16'],
        ['2','8','16.'],
        ['2','4'],
        ['2','4','32'],
        ['2','4','16'],
        ['2','4','16.'],
        ['2','4','8'],
        ['2','4','8','32'],
        ['2','4','8','16'],
        ['2','4','8','16.'],
        ['1']
    ]

def select_duration(tick,nextbar,dt,fulltick):
    if dt < 0:
        print('negative dt',dt)
        raise
    v32 = int(round(32.0*dt/fulltick))
    if v32 == 0:
        v32 = 1
    res = DURATIONS[v32],fulltick//32 * v32
    print('%% select_duration(',tick,',',nextbar,',',dt,',',fulltick,')=',res)
    return res

